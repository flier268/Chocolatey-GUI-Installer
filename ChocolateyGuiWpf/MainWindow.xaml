<Window x:Class="ChocolateyGuiWpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chocolatey GUI Installer" Height="600" Width="900">
    <Grid>
        <DockPanel>
            <!-- 分類選單 -->
            <StackPanel DockPanel.Dock="Left" Width="180" Background="#EEE">
                <TextBlock Text="套件分類" FontWeight="Bold" Margin="10"/>
                <ListBox x:Name="CategoryListBox" Margin="10"
                         ItemsSource="{Binding Categories}"
                         SelectedIndex="0"
                         SelectionChanged="CategoryListBox_SelectionChanged"/>
            </StackPanel>
            <!-- 主內容 -->
            <Grid DockPanel.Dock="Right">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <!-- 套件列表 -->
                <DataGrid x:Name="PackageDataGrid" Grid.Row="1" AutoGenerateColumns="False" Margin="10"
                          ItemsSource="{Binding FilteredPackages}">
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Header="選取" Binding="{Binding Selected}" Width="60"/>
                        <DataGridTextColumn Header="名稱" Binding="{Binding DisplayName}" Width="150"/>
                        <DataGridTextColumn Header="說明" Binding="{Binding Description}" Width="*"/>
                        <DataGridTextColumn Header="狀態" Binding="{Binding Status}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
                <!-- 操作按鈕 -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                    <Button x:Name="InstallButton" Content="安裝選定套件" Width="120" Margin="5" Click="InstallButton_Click"/>
                    <Button x:Name="RemoveButton" Content="移除選定套件" Width="120" Margin="5" Click="RemoveButton_Click"/>
                    <Button x:Name="RefreshStatusButton" Content="手動更新狀態" Width="120" Margin="5" Click="RefreshStatusButton_Click"/>
                </StackPanel>
                <!-- 進度條與日誌 -->
                <StackPanel Grid.Row="3" Margin="10">
                    <ProgressBar x:Name="InstallProgressBar" Height="20" Minimum="0" Maximum="100"/>
                    <TextBox x:Name="LogTextBox" Height="80" Margin="0,10,0,0" IsReadOnly="True" VerticalScrollBarVisibility="Auto"/>
                </StackPanel>
                <!-- 備份還原按鈕 -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10">
                    <Button x:Name="BackupButton" Content="備份" Width="80" Margin="5" Click="BackupButton_Click"/>
                    <Button x:Name="RestoreButton" Content="還原" Width="80" Margin="5" Click="RestoreButton_Click"/>
                </StackPanel>
            </Grid>
        </DockPanel>
    </Grid>
</Window>